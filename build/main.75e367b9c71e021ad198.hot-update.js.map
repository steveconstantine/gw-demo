{"version":3,"file":"main.75e367b9c71e021ad198.hot-update.js","sources":["webpack:///./src/apollo.js"],"sourcesContent":["import { ApolloClient } from 'apollo-client';\nimport { createHttpLink } from 'apollo-link-http';\nimport { setContext } from 'apollo-link-context';\nimport { InMemoryCache } from 'apollo-cache-inmemory';\nimport fetch from 'node-fetch';\n\nvar localStorage = require('web-storage')().localStorage;\n\nexport function createApolloClient() {\n  const ssrMode = !process.browser;\n  const httpLink = createHttpLink({ uri: 'https://giftingwildol.myshopify.com/api/graphql', fetch: fetch })\n\n  const token = localStorage.get('token');\n\n  const middlewareLink = setContext(() => ({\n    headers: {\n      'X-Shopify-Storefront-Access-Token': '7d737fd6764a120aa1083b4603832c02'\n    },\n    authorization: token ? `Bearer ${token}` : \"\",\n  }))\n\n  return new ApolloClient({\n    ssrMode,\n    link: middlewareLink.concat(httpLink),\n    cache: ssrMode\n      ? new InMemoryCache()\n      : new InMemoryCache().restore(window.__APOLLO_STATE__),\n  });\n}\n"],"mappings":"AAAA","sourceRoot":""}