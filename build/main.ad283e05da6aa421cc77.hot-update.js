exports.id="main",exports.modules={"./src/server.js":function(e,t,r){"use strict";r.r(t);var n=r("babel-runtime/regenerator"),s=r.n(n),o=r("babel-runtime/core-js/object/get-prototype-of"),a=r.n(o),c=r("babel-runtime/helpers/classCallCheck"),i=r.n(c),l=r("babel-runtime/helpers/createClass"),u=r.n(l),p=r("babel-runtime/helpers/possibleConstructorReturn"),d=r.n(p),h=r("babel-runtime/helpers/inherits"),m=r.n(h),f=r("babel-runtime/helpers/asyncToGenerator"),b=r.n(f),g=r("react"),v=r.n(g),w=r("express"),y=r.n(w),j=r("react-dom/server"),x=r("react-apollo"),C=(r("apollo-client"),r("apollo-link-http")),A=r("apollo-link-context"),k=r("apollo-cache-inmemory"),_=(r("apollo-cache-persist"),r("isomorphic-fetch")),S=r("./node_modules/react-native-web/dist/index.js"),O=r("@jaredpalmer/after"),T=r("./src/routes.js"),R=r("./src/Document.js");process.browser||(global.fetch=_);var N,q=r("compression"),D=r("express-minify"),E=r("web-storage")().localStorage,H=r("./build/assets.json"),L=y()();L.use(q({level:9})),L.use(D()),L.disable("x-powered-by").use(y.a.static("C:\\apps\\gw\\public")).get("/*",(N=b()(s.a.mark(function e(t,r){var n,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){new k.InMemoryCache,process.browser,Object(C.createHttpLink)({uri:"https://giftingwildinc.myshopify.com/api/graphql",fetch:_});var t,r=E.get("token"),n=(Object(A.setContext)(function(){return{headers:{"X-Shopify-Storefront-Access-Token":"e533f252f3a673c02f85798859530319"},authorization:r?"Bearer "+r:""}}),function(t){function r(){i()(this,r);var e=d()(this,(r.__proto__||a()(r)).call(this));return e.state={loaded:!1,client:null},e}return m()(r,t),u()(r,[{key:"componentDidMount",value:function(){var e=b()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loaded:!0,client:client});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loaded?v.a.createElement(x.ApolloProvider,{client:client,__source:{fileName:"C:\\apps\\gw\\src\\server.js",lineNumber:69}},e):v.a.createElement("div",{__source:{fileName:"C:\\apps\\gw\\src\\server.js",lineNumber:67}},"Loading-Server")}}]),r}(v.a.Component));return Object(x.getDataFromTree)(n).then((t=b()(s.a.mark(function e(t){var r,o,a,c,i,l;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.AppRegistry.registerComponent("App",function(){return n}),r=S.AppRegistry.getApplication("App"),o=r.element,a=r.getStyleElement,c=a(),i=client.extract(),l=Object(j.renderToString)(o),e.abrupt("return",{html:l,initialApolloState:i,css:c});case 6:case"end":return e.stop()}},e,void 0)})),function(e){return t.apply(this,arguments)}))},e.prev=1,e.next=4,Object(O.render)({req:t,res:r,routes:T.default,assets:H,customRenderer:n,document:R.default,customThing:"thing"});case 4:o=e.sent,r.send(o),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),r.json(e.t0),console.log("server instantiation error"),console.log(e.t0);case 13:case"end":return e.stop()}},e,void 0,[[1,8]])})),function(e,t){return N.apply(this,arguments)})),L.use(function(e,t,r){t.header("Access-Control-Allow-Origin","*"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),r()}),t.default=L}};
//# sourceMappingURL=main.ad283e05da6aa421cc77.hot-update.js.map