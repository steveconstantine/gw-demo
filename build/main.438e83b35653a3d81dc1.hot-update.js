exports.id="main",exports.modules={"./src/server.js":function(e,t,r){"use strict";r.r(t);var n=r("babel-runtime/regenerator"),s=r.n(n),o=r("babel-runtime/core-js/object/get-prototype-of"),a=r.n(o),c=r("babel-runtime/helpers/classCallCheck"),i=r.n(c),l=r("babel-runtime/helpers/createClass"),p=r.n(l),u=r("babel-runtime/helpers/possibleConstructorReturn"),h=r.n(u),d=r("babel-runtime/helpers/inherits"),m=r.n(d),f=r("babel-runtime/helpers/asyncToGenerator"),b=r.n(f),g=r("react"),v=r.n(g),w=r("express"),y=r.n(w),j=r("react-dom/server"),C=r("react-apollo"),x=r("apollo-client"),A=r("apollo-link-http"),k=r("apollo-link-context"),_=r("apollo-cache-inmemory"),O=(r("apollo-cache-persist"),r("isomorphic-fetch")),S=r("./node_modules/react-native-web/dist/index.js"),T=r("@jaredpalmer/after"),R=r("./src/routes.js"),N=r("./src/Document.js");process.browser||(global.fetch=O);var q,D=r("compression"),E=r("express-minify"),M=r("web-storage")().localStorage,H=r("./build/assets.json"),X=y()();X.use(D({level:9})),X.use(E()),X.disable("x-powered-by").use(y.a.static("C:\\apps\\gw\\public")).get("/*",(q=b()(s.a.mark(function e(t,r){var n,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){var t,r=new _.InMemoryCache,n=!process.browser,o=Object(A.createHttpLink)({uri:"https://giftingwildinc.myshopify.com/api/graphql",fetch:O}),c=M.get("token"),l=Object(k.setContext)(function(){return{headers:{"X-Shopify-Storefront-Access-Token":"e533f252f3a673c02f85798859530319"},authorization:c?"Bearer "+c:""}}),u=new x.ApolloClient({ssrMode:n,link:l.concat(o),cache:r}),d=function(t){function r(){i()(this,r);var e=h()(this,(r.__proto__||a()(r)).call(this));return e.state={loaded:!1,client:null},e}return m()(r,t),p()(r,[{key:"componentDidMount",value:function(){var e=b()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({loaded:!0,client:u});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.loaded?v.a.createElement(C.ApolloProvider,{client:u,__source:{fileName:"C:\\apps\\gw\\src\\server.js",lineNumber:77}},e):v.a.createElement("div",{__source:{fileName:"C:\\apps\\gw\\src\\server.js",lineNumber:75}})}}]),r}(v.a.Component);return Object(C.getDataFromTree)(d).then((t=b()(s.a.mark(function e(t){var r,n,o,a,c,i;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return S.AppRegistry.registerComponent("App",function(){return d}),r=S.AppRegistry.getApplication("App"),n=r.element,o=r.getStyleElement,a=o(),c=u.extract(),i=Object(j.renderToString)(n),e.abrupt("return",{html:i,initialApolloState:c,css:a});case 6:case"end":return e.stop()}},e,void 0)})),function(e){return t.apply(this,arguments)}))},e.prev=1,e.next=4,Object(T.render)({req:t,res:r,routes:R.default,assets:H,customRenderer:n,document:N.default,customThing:"thing"});case 4:o=e.sent,r.send(o),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(1),r.json(e.t0),console.log("server instantiation error"),console.log(e.t0);case 13:case"end":return e.stop()}},e,void 0,[[1,8]])})),function(e,t){return q.apply(this,arguments)})),X.use(function(e,t,r){t.header("Access-Control-Allow-Origin","*"),t.header("Access-Control-Allow-Headers","Origin, X-Requested-With, Content-Type, Accept"),r()}),t.default=X}};
//# sourceMappingURL=main.438e83b35653a3d81dc1.hot-update.js.map